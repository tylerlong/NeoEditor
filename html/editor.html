<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style type="text/css" media="screen">
      @font-face {
        font-family: 'Ubuntu Mono';
        src: url('../fonts/UbuntuMono-R.ttf') format('truetype');
      }
      #editor {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        font-size: 15px;
        font-family: Ubuntu Mono;
        line-height: 120%;
      }
    </style>
  </head>
  <body>
    <div id="editor"></div>
    <script src="../javascript/ace/src-noconflict/ace.js" charset="utf-8"></script>
    <script src="../javascript/ace/src-noconflict/ext-modelist.js"></script>
    <script src="../javascript/ace/src-noconflict/ext-whitespace.js"></script>
    <script>
      var editor = ace.edit('editor');
      var modelist = ace.require('ace/ext/modelist');
      var whitespace = ace.require('ace/ext/whitespace');
      editor.setShowInvisibles(true);
      editor.setTheme("ace/theme/monokai");
      editor.setHighlightGutterLine(false);
      editor.setShowPrintMargin(false);

      //generated by coffeescript
      var ensure_newline_at_eof = function() {
        var doc, i, lines, _i, _ref, _results;
        doc = editor.session.getDocument();
        lines = doc.getAllLines();
        if (lines[lines.length - 1].search(/^\s*$/) === -1) {
          return doc.insert({
            row: lines.length,
            column: 0
          }, doc.getNewLineCharacter());
        } else {
          _results = [];
          for (i = _i = _ref = lines.length - 1; _ref <= 0 ? _i < 0 : _i > 0; i = _ref <= 0 ? ++_i : --_i) {
            if (lines[i].search(/^\s*$/) !== -1 && lines[i - 1].search(/^\s*$/) !== -1) {
              _results.push(doc.removeLines(i, i));
            } else {
              break;
            }
          }
          return _results;
        }
      };
    </script>
  </body>
</html>
